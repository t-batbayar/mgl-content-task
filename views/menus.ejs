<?- include('includes/head.ejs') ?>    
    <?- include('includes/nav.ejs') ?>   
        <main class="container">
            <div class="d-flex justify-content-between">
                <h2>Menu controller</h2>
                <div><a class="btn btn-primary bt-lg" href="/admin/add-main-menu">Add Main Menu</a></div>
            </div>
            <? if (menus.length > 0) { ?>
                <ul>
                    <? for (let menu of menus) { ?>
                        <li class="mt-3 mb-3 list-group-item list-group-item-primary">
                            <div class="d-flex justify-content-between">
                                <span>
                                    <span class="badge badge-info"><?= menu.order ?></span>
                                    <?= menu.name ?>
                                </span>
                                <span>
                                    <a class="btn btn-primary bt-sm" href="/admin/add-sub-menu/<?= menu.id ?>">Add menu</a>
                                    <a class="btn btn-secondary bt-sm" href="/admin/edit-main-menu/<?= menu.id ?>">Edit menu</a>
                                    <form class="d-inline" action="/admin/delete-main-menu" method="POST">
                                        <input type="hidden" name="menuId" value="<?= menu.id ?>" />
                                        <button type="submit" class="btn btn-danger bt-sm ml-5">Delete</button>
                                    </form>
                                </span>
                            </div>

                            <? if (menu.submenus.length > 0) { ?>
                                <ul class="list-group">
                                    <? for (let submenu of menu.submenus) { ?>
                                        <li class="mt-2 mb-2 list-group-item list-group-item-info">

                                            <div class="d-flex justify-content-between">
                                                <span>
                                                    <span class="badge badge-info"><?= submenu.order ?></span>
                                                    <?= submenu.name ?>
                                                </span>
                                                <span>
                                                    <a class="btn btn-primary bt-sm" href="/admin/add-sub-sub-menu/<?= submenu.id ?>">Add menu</a>
                                                    <a class="btn btn-secondary bt-sm" href="/admin/edit-sub-menu/<?= submenu.id ?>">Edit menu</a>
                                                    <form class="d-inline" action="/admin/delete-sub-menu" method="POST">
                                                        <input type="hidden" name="subMenuId" value="<?= submenu.id ?>" />
                                                        <button type="submit" class="btn btn-danger bt-sm ml-5">Delete</button>
                                                    </form>
                                                </span>
                                            </div>
                                        
                                            <? if (submenu.subsubmenus.length > 0) { ?>
                                                <ul>
                                                    <? for (let subsubmenu of submenu.subsubmenus) { ?>
                                                        <li class="mt-1 mb-1 list-group-item list-group-item-dark">
                                                            <div class="d-flex justify-content-between">
                                                                <span>
                                                                    <span class="badge badge-info"><?= subsubmenu.order ?></span>
                                                                    <?= subsubmenu.name ?>
                                                                </span>
                                                                <span>
                                                                    <a class="btn btn-secondary bt-sm" href="/admin/edit-sub-sub-menu/<?= subsubmenu.id ?>">Edit menu</a>

                                                                    <form class="d-inline" action="/admin/delete-sub-sub-menu" method="POST">
                                                                        <input type="hidden" name="subSubMenuId" value="<?= subsubmenu.id ?>" />
                                                                        <button type="submit" class="btn btn-danger bt-sm ml-5">Delete</button>
                                                                    </form>
                                                                </span>
                                                            </div>
                                                        </li>
                                                    <? } ?>
                                                </ul>
                                            <? } ?>
                                            
                                            </li>
                                    <? } ?>
                                </ul>
                            <? } ?>
                        </li>
                    <? } ?>
                </ul>
            <? } ?>
        </main>
<?- include('includes/end.ejs') ?>
